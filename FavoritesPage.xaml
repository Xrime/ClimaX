<Page x:Class="ProjectX.Pages.FavoritesPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
      mc:Ignorable="d">

    <!-- 🌈 Gradient background -->
    <Page.Background>
        <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
            <GradientStop Color="#4facfe" Offset="0.0"/>
            <GradientStop Color="#00f2fe" Offset="1.0"/>
        </LinearGradientBrush>
    </Page.Background>

    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <StackPanel Margin="20">

            <!-- 🔎 Search bar with Add icon -->
            <Grid Height="45" Margin="0,0,0,20">
                <Border Background="White" CornerRadius="22" Padding="12,0"
                        BorderBrush="#DDD" BorderThickness="1">
                    <Grid>
                        <TextBox x:Name="SearchBox"
                                 BorderThickness="0"
                                 Background="Transparent"
                                 VerticalContentAlignment="Center"
                                 FontSize="14"
                                 Foreground="Black"
                                 Tag="Enter city name..."
                                 KeyDown="SearchBox_KeyDown"/>

                        <Image Source="Assets/add.png"
                               Width="20" Height="20"
                               HorizontalAlignment="Right"
                               VerticalAlignment="Center"
                               Cursor="Hand"
                               MouseDown="AddFavorite_Click"/>
                    </Grid>
                </Border>
            </Grid>

            <!-- ⭐ Favorites heading -->
            <TextBlock Text="My Favorites"
                       FontSize="24"
                       FontWeight="Bold"
                       Foreground="White"
                       Margin="0,0,0,15"/>

            <!-- 📋 Favorites list -->
            <StackPanel x:Name="FavoritesPanel"
                        Orientation="Vertical"/>

            <!-- 🗑️ Clear all button -->
            <Button Content="Clear All Favorites"
                    Click="ClearAllFavorites_Click"
                    Margin="0,15,0,0"
                    Background="#FF4444"
                    Foreground="White"
                    FontWeight="Bold"
                    Padding="10,6"
                    BorderThickness="0">
                <Button.Template>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}"
                                CornerRadius="12"
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center"
                                              VerticalAlignment="Center"/>
                        </Border>
                    </ControlTemplate>
                </Button.Template>
            </Button>

        </StackPanel>
    </ScrollViewer>

    <!-- Reusable card style -->
    <Page.Resources>
        <!-- Card style for favorite city display -->
        <Style x:Key="CardBorderStyle" TargetType="Border">
            <Setter Property="CornerRadius" Value="15"/>
            <Setter Property="Background" Value="White"/>
            <Setter Property="Padding" Value="10"/>
            <Setter Property="Margin" Value="5"/>
            <Setter Property="Effect">
                <Setter.Value>
                    <DropShadowEffect Color="Black" Opacity="0.2" BlurRadius="8"/>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- 🔘 Style for Remove buttons -->
        <Style x:Key="RemoveButtonStyle" TargetType="Button">
            <Setter Property="Width" Value="28"/>
            <Setter Property="Height" Value="28"/>
            <Setter Property="Background" Value="#FF4444"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Content" Value="✖"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}"
                                CornerRadius="14"
                                Padding="0">
                            <ContentPresenter HorizontalAlignment="Center"
                                              VerticalAlignment="Center"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#CC0000"/>
                </Trigger>
            </Style.Triggers>
        </Style>
    </Page.Resources>
</Page>
